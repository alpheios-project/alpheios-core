!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("alpheios-data-models"));else if("function"==typeof define&&define.amd)define(["alpheios-data-models"],t);else{var r="object"==typeof exports?t(require("alpheios-data-models")):t(e["alpheios-data-models"]);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=33)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(3),o=r(14),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function i(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===a.call(e)}function l(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:i,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:u,isStream:function(e){return i(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(t){var n=r(1),o=r(17),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=r(4):void 0!==t&&(e=r(4)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){i.headers[e]={}}),n.forEach(["post","put","patch"],function(e){i.headers[e]=n.merge(a)}),e.exports=i}).call(this,r(16))},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(1),o=r(18),a=r(20),s=r(21),i=r(22),u=r(5),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(23);e.exports=function(e){return new Promise(function(t,c){var f=e.data,p=e.headers;n.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||i(e.url)||(d=new window.XDomainRequest,h="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";p.Authorization="Basic "+l(m+":"+y)}if(d.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[h]=function(){if(d&&(4===d.readyState||g)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};o(t,c,n),d=null}},d.onerror=function(){c(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var w=r(24),v=(e.withCredentials||i(e.url))&&e.xsrfCookieName?w.read(e.xsrfCookieName):void 0;v&&(p[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&n.forEach(p,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),c(e),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,r){"use strict";var n=r(19);e.exports=function(e,t,r,o,a){var s=new Error(e);return n(s,t,r,o,a)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){e.exports=r(13)},function(e){e.exports={engine:{lat:["whitakerLat"],grc:["morpheusgrc"],ara:["aramorph"],per:["hazm"],gez:["traces"]},url:"https://morph.alpheios.net/api/v1/analysis/word?word=r_WORD&engine=r_ENGINE&lang=r_LANG&clientId=r_CLIENT",allowUnknownValues:!0}},function(e){e.exports={texts:["1999.01.0021","1999.01.0135","1999.02.0066","phi0959.phi006.alpheios-text-lat1","tlg0011.tlg003.alpheios-text-grc1","tlg0012.tlg001.alpheios-text-grc1","tlg0012.tlg002.alpheios-text-grc1","tlg0020.tlg001.alpheios-text-grc1","tlg0020.tlg002.alpheios-text-grc1","tlg0020.tlg003.alpheios-text-grc1","tlg0085.tlg001.alpheios-text-grc1","tlg0085.tlg002.alpheios-text-grc1","tlg0085.tlg003.alpheios-text-grc1","tlg0085.tlg004.alpheios-text-grc1","tlg0085.tlg005.alpheios-text-grc1","tlg0085.tlg006.alpheios-text-grc1","tlg0085.tlg007.alpheios-text-grc1","tlg0086.tlg034.alpheios-text-ara2"],url:"http://tools.alpheios.net/exist/rest/db/xq/treebank-getmorph.xq?f=r_TEXT&w=r_WORD&clientId=r_CLIENT",providerUri:"https://alpheios.net",providerRights:"The Alpheios Treebank data is licenced under the Creative Commons 3.0 Share-Alike license.",allowUnknownValues:!0}},function(e,t,r){(function(e){var n,o=function(){this.version="1.3.5";var e={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:"_ns",textKey:"_text",valueKey:"_value",attrKey:"_attr",cdataKey:"_cdata",attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!0},t=new RegExp(/(?!xmlns)^.*:/),r=new RegExp(/^\s+|\s+$/g);return this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){return this.parseXML(this.stringToXML(e),t)},this.parseXML=function(n,a){for(var s in a)e[s]=a[s];var i={},u=0,l="";if(e.xmlns&&n.namespaceURI&&(i[e.namespaceKey]=n.namespaceURI),n.attributes&&n.attributes.length>0){for(var c={};u<n.attributes.length;u++){var f=n.attributes.item(u);g={};var p="";p=e.stripAttrPrefix?f.name.replace(t,""):f.name,e.grokAttr?g[e.valueKey]=this.grokType(f.value.replace(r,"")):g[e.valueKey]=f.value.replace(r,""),e.xmlns&&f.namespaceURI&&(g[e.namespaceKey]=f.namespaceURI),e.attrsAsObject?c[p]=g:i[e.attrKey+p]=g}e.attrsAsObject&&(i[e.attrKey]=c)}if(n.hasChildNodes())for(var d,h,g,m=0;m<n.childNodes.length;m++)4===(d=n.childNodes.item(m)).nodeType?e.mergeCDATA?l+=d.nodeValue:i.hasOwnProperty(e.cdataKey)?(i[e.cdataKey].constructor!==Array&&(i[e.cdataKey]=[i[e.cdataKey]]),i[e.cdataKey].push(d.nodeValue)):e.childrenAsArray?(i[e.cdataKey]=[],i[e.cdataKey].push(d.nodeValue)):i[e.cdataKey]=d.nodeValue:3===d.nodeType?l+=d.nodeValue:1===d.nodeType&&(0===u&&(i={}),h=e.stripElemPrefix?d.nodeName.replace(t,""):d.nodeName,g=o.parseXML(d),i.hasOwnProperty(h)?(i[h].constructor!==Array&&(i[h]=[i[h]]),i[h].push(g)):(e.childrenAsArray?(i[h]=[],i[h].push(g)):i[h]=g,u++));else l||(e.childrenAsArray?(i[e.textKey]=[],i[e.textKey].push(null)):i[e.textKey]=null);if(l)if(e.grokText){var y=this.grokType(l.replace(r,""));null!==y&&void 0!==y&&(i[e.textKey]=y)}else e.normalize?i[e.textKey]=l.replace(r,"").replace(/\s+/g," "):i[e.textKey]=l.replace(r,"");return i},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(e){return null}},this.stringToXML=function(e){try{var t=null;return window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t)}catch(e){return null}},this}.call({});null!==e&&e.exports?e.exports=o:void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}).call(this,r(32)(e))},function(e){e.exports={url:"https://ats.alpheios.net",availableLangSource:["lat"],rights:"Lemma translations are extracted from data provided under the GNU GPL v3 license by the Collatinus Project (https://github.com/biblissima/collatinus), which is developed and maintained by Yves Ouvrard and Philippe Verkerk."}},function(e,t,r){"use strict";var n=r(1),o=r(3),a=r(15),s=r(2);function i(e){var t=new a(e),r=o(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var u=i(s);u.Axios=a,u.create=function(e){return i(n.merge(s,e))},u.Cancel=r(7),u.CancelToken=r(30),u.isCancel=r(6),u.all=function(e){return Promise.all(e)},u.spread=r(31),e.exports=u,e.exports.default=u},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(2),o=r(1),a=r(25),s=r(26);function i(e){this.defaults=e,this.interceptors={request:new a,response:new a}}i.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],function(e){i.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){i.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=i},function(e,t){var r,n,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,l=[],c=!1,f=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=i(p);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||i(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";var n=r(1);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var s=[];n.forEach(t,function(e,t){null!==e&&void 0!==e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))}))}),a=s.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},function(e,t,r){"use strict";var n=r(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,s={};return e?(n.forEach(e.split("\n"),function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}}),s):s}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,a=String(e),s="",i=0,u=n;a.charAt(0|i)||(u="=",i%1);s+=u.charAt(63&t>>8-i%1*8)){if((r=a.charCodeAt(i+=.75))>255)throw new o;t=t<<8|r}return s}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,a,s){var i=[];i.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),n.isString(o)&&i.push("path="+o),n.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(1);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";var n=r(1),o=r(27),a=r(6),s=r(2),i=r(28),u=r(29);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!i(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return l(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(7);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(8),a=r.n(o);var s=class{async fetchWindow(e,t="json"){if(e)try{console.info("****************inside fetchWindow 1",e);let r=await window.fetch(e);return console.info("****************inside fetchWindow 2",r),"xml"===t?r.text():r.json()}catch(t){console.error(`Unable to get data from url ${e}`)}else console.error("Unable to prepare parser request url")}async fetchAxios(e){try{return(await a.a.get(encodeURI(e))).data}catch(t){console.error("Unable to prepare parser request url",e,t.message)}}async fetch(e,t){let r;return r="undefined"!=typeof window?await this.fetchWindow(e,t):await this.fetchAxios(e)}};var i=class{constructor(e,t){this.engineSet=e,this.config=t}transformData(e,t){let r=[],o=e.RDF.Annotation.Body;Array.isArray(o)||(o=o?[o]:[]);let a=e.RDF.Annotation.creator.Agent.about,s="";e.RDF.Annotation.rights&&(s=e.RDF.Annotation.rights.$);let i=new n.ResourceProvider(a,s);for(let e of o){let o,a=e.rest.entry.infl;a?Array.isArray(a)||(a=[a]):a=[];let s=[["pofs","part"],["case","grmCase"],["gend","gender"],["decl","declension"],["conj","conjugation"],["area","area"],["age","age"],["geo","geo"],["freq","frequency"],["note","note"],["pron","pronunciation"],["kind","kind"],["src","source"]],u=[];e.rest.entry.dict?Array.isArray(e.rest.entry.dict)?o=e.rest.entry.dict:(!e.rest.entry.dict.hdwd&&a[0].term&&(e.rest.entry.dict.hdwd={},e.rest.entry.dict.hdwd.lang=a[0].term.lang,u.push(a[0].term.prefix?a[0].term.prefix.$:""),u.push(a[0].term.stem?a[0].term.stem.$:""),u.push(a[0].term.suff?a[0].term.suff.$:"")),o=[e.rest.entry.dict]):a.length>0&&a[0].term&&(o=[a[0].term]);let l=o[0].hdwd?o[0].hdwd.lang:o[0].lang,c=this.engineSet.getEngineByCodeFromLangCode(l);if(!c){console.log(`No mapping data found for ${l}`);continue}u.length>0&&(c.model.direction===n.Constants.LANG_DIR_RTL&&u.reverse(),e.rest.entry.dict.hdwd.$=u.join(""));let f=[],p=[];for(let t of o.entries()){let r,a=[],u=t[0],d=t[1];if(d.hdwd&&(r=d.hdwd.$),!r||!l){console.log("No lemma or language found");continue}let h=c.parseLemma(r,l);f.push(h);for(let e of s)c.mapFeature(h,d,...e,this.config.allowUnknownValues);let g=e.rest.entry.mean;if(Array.isArray(g)||(g=[g]),g=g.filter(e=>e),o.length>1){if(g&&g[u]){let e=g[u],t=e.lang?e.lang:"eng";a.push(n.ResourceProvider.getProxy(i,new n.Definition(e.$,t,"text/plain",f[u].word)))}}else{let e=g.map(e=>{let t=e.lang?e.lang:"eng";return n.ResourceProvider.getProxy(i,new n.Definition(e.$,t,"text/plain",h.word))});a.push(...e)}let m=new n.Lexeme(h,[]);m.meaning.appendShortDefs(a),p.push(n.ResourceProvider.getProxy(i,m))}if(0===f.length)continue;let d=[];for(let e of a){let r=e.term.stem?e.term.stem.$:null,o=e.term.suff?e.term.suff.$:null,a=e.term.pref?e.term.pref.$:null,s=e.xmpl?e.xmpl.$:null,i=new n.Inflection(r,c.model.languageID,o,a,s);t&&i.addFeature(new n.Feature(n.Feature.types.fullForm,t,c.model.languageID));for(let t of[["pofs","part"],["case","grmCase"],["decl","declension"],["num","number"],["gend","gender"],["conj","conjugation"],["tense","tense"],["voice","voice"],["mood","mood"],["pers","person"],["comp","comparison"],["stemtype","stemtype"],["derivtype","derivtype"],["dial","dialect"],["morph","morph"]])try{c.mapFeature(i,e,...t,this.config.allowUnknownValues),c.overrideInflectionFeatureIfRequired(t[1],i,f)}catch(e){console.log(`Unable to map ${t[0]}`,e)}(i[n.Feature.types.grmCase]||i[n.Feature.types.tense]||i[n.Feature.types.mood]||i[n.Feature.types.voice]||i[n.Feature.types.person]||i[n.Feature.types.comparison]||i[n.Feature.types.stemtype]||i[n.Feature.types.derivtype]||i[n.Feature.types.dialect]||i[n.Feature.types.morph]||i[n.Feature.types.example])&&d.push(i);for(let t of f)t.features[n.Feature.types.part]||c.mapFeature(t,e,"pofs","part",this.config.allowUnknownValues),t.features[n.Feature.types.declension]||t.features[n.Feature.types.part]&&!t.features[n.Feature.types.part].isEqual(i[n.Feature.types.part])||c.mapFeature(t,e,"decl","declension",this.config.allowUnknownValues),t.features[n.Feature.types.conjugation]||t.features[n.Feature.types.part]&&!t.features[n.Feature.types.part].isEqual(i[n.Feature.types.part])||c.mapFeature(t,e,"conj","conjugation",this.config.allowUnknownValues)}let h=c.aggregateLexemes(p,d);r.push(...h)}return r.length>0?new n.Homonym(r,t):void 0}transformDataBackup(e,t){let r=[],o=this.getProviderFromAnnotation(e),a=this.checkAndConvertToArray(e.Body),s=this.config.featuresArray;for(let e of a){console.info("*********************lexeme.rest",a,e,e.rest);let i=[],u=this.checkAndConvertToArray(e.rest.entry.infl),l=this.getLemmasFromEntryDict(e.rest.entry.dict,u),c=this.checkAndConvertToArray(e.rest.entry.mean).filter(e=>e),f=l[0].hdwd?l[0].hdwd.lang:l[0].lang,p=this.engineSet.getEngineByCodeFromLangCode(f);if(!p){console.log(`No mapping data found for ${f}`);continue}this.updateReconstructHdwdFromDict(e.rest.entry.dict,u);let d=[],h=[];for(const[e,t]of l.entries()){let r=t.hdwd?t.hdwd.$:void 0;if(!r||!f){console.log("No lemma or language found");continue}let a=p.parseLemma(r,f);d.push(a);for(let e of s)p.mapFeature(a,t,...e,this.config.allowUnknownValues);if(l.length>1)c&&c[e]&&i.push(this.getDefinitionFromProvider(o,c[e],d[e].word));else{let e=c.map(e=>this.getDefinitionFromProvider(o,e,a.word));i.push(...e)}let u=new n.Lexeme(a,[]);u.meaning.appendShortDefs(i),h.push(n.ResourceProvider.getProxy(o,u))}if(0===d.length)continue;let g=this.getInflections(u,p,d,t),m=p.aggregateLexemes(h,g);r.push(...m)}return r.length>0?new n.Homonym(r,t):void 0}getDefinitionFromProvider(e,t,r){let o=t.lang?t.lang:"eng";return n.ResourceProvider.getProxy(e,new n.Definition(t.$,o,"text/plain",r))}getProviderFromAnnotation(e){let t=e.creator.Agent.about,r=e.rights?e.rights.$:"";return new n.ResourceProvider(t,r)}checkAndConvertToArray(e){return Array.isArrayvalue?e:e?[e]:[]}getLemmasFromEntryDict(e,t){return e?this.checkAndConvertToArray(e):t.length>0&&t[0].term?[t[0].term]:void 0}updateReconstructHdwdFromDict(e,t,r){let o=[];e&&!Array.isArray(e)&&!e.hdwd&&t[0].term&&(e.hdwd={},e.hdwd.lang=t[0].term.lang,o.push(t[0].term.prefix?t[0].term.prefix.$:""),o.push(t[0].term.stem?t[0].term.stem.$:""),o.push(t[0].term.suff?t[0].term.suff.$:"")),o.length>0&&(r.model.direction===n.Constants.LANG_DIR_RTL&&o.reverse(),e.hdwd.$=o.join(""))}getInflections(e,t,r,o){let a=[];for(let s of e){let e=s.term.stem?s.term.stem.$:null,i=s.term.suff?s.term.suff.$:null,u=s.term.pref?s.term.pref.$:null,l=s.xmpl?s.xmpl.$:null,c=new n.Inflection(e,t.model.languageID,i,u,l);o&&c.addFeature(new n.Feature(n.Feature.types.fullForm,o,t.model.languageID));for(let e of this.config.featuresArrayAll)try{t.mapFeature(c,s,...e,this.config.allowUnknownValues),t.overrideInflectionFeatureIfRequired(e[1],c,r)}catch(t){console.log(`Unable to map ${e[0]}`,t)}(c[n.Feature.types.grmCase]||c[n.Feature.types.tense]||c[n.Feature.types.mood]||c[n.Feature.types.voice]||c[n.Feature.types.person]||c[n.Feature.types.comparison]||c[n.Feature.types.stemtype]||c[n.Feature.types.derivtype]||c[n.Feature.types.dialect]||c[n.Feature.types.morph]||c[n.Feature.types.example])&&a.push(c);for(let e of r)e.features[n.Feature.types.part]||t.mapFeature(e,s,"pofs","part",this.config.allowUnknownValues),e.features[n.Feature.types.declension]||e.features[n.Feature.types.part]&&!e.features[n.Feature.types.part].isEqual(c[n.Feature.types.part])||t.mapFeature(e,s,"decl","declension",this.config.allowUnknownValues),e.features[n.Feature.types.conjugation]||e.features[n.Feature.types.part]&&!e.features[n.Feature.types.part].isEqual(c[n.Feature.types.part])||t.mapFeature(e,s,"conj","conjugation",this.config.allowUnknownValues)}return a}},u=r(9);var l=class{constructor(e,t){this.model=e,this.engine=t;for(let e of Object.keys(this.model.features))this.addFeature(e);this.aggregateLexemes=function(e,t){let r=[];for(let n of e)this.reportLexeme(n)&&(n.inflections=t,r.push(n));return r},this.parseLemma=function(e){return new n.Lemma(e,this.model.languageID)},this.parseProperty=function(e,t){let r=[];return r="decl"===e?t.split("&").map(e=>e.trim()):"comp"===e&&"positive"===t?[]:[t]},this.reportLexeme=function(e){return e.lemma.features[n.Feature.types.part]},this.inflectionOverrides=[]}addFeature(e){this[e]={};let t=this.model;return this[e].add=function(e,t){return this[e]=t,this},this[e].get=function(r,n=1,o=!1){let a=[];if(this.importer.has(r)){let o=this.importer.get(r);a=Array.isArray(o)?t.typeFeature(e).createFeatures(o,n):t.typeFeature(e).createFeature(o,n)}else if(t.typeFeature(e).hasValue(r)||t.typeFeature(e).valuesUnrestricted)a=t.typeFeature(e).createFeature(r,n);else{let s=`Unknown value "${r}" of feature "${e}" for ${t.languageCode} (allowed = ${o})`;if(!o)throw new Error(s);console.log(s),a=t.typeFeature(e).createFeature(r,n)}return a},this[e].getMultiple=function(r,n=!1){let o=[];for(const a of r)if(this.importer.has(a.providerValue)){let e=this.importer.get(a.providerValue);o=Array.isArray(e)?e:[[e,a.sortOrder]]}else if(t.typeFeature(e).hasValue(a.providerValue)||t.typeFeature(e).valuesUnrestricted)o.push([a.providerValue,a.sortOrder]);else{let r=`Unknown value "${a.providerValue}" of feature "${e}" for ${t.languageCode} (allowed = ${n})`;if(!n)throw new Error(r);console.log(r),o.push([a.providerValue,a.sortOrder])}return t.typeFeature(e).createFeatures(o)},this[e].importer=new n.FeatureImporter,this[e]}setLexemeAggregator(e){this.aggregateLexemes=e}setLemmaParser(e){this.parseLemma=e}setPropertyParser(e){this.parseProperty=e}setLexemeFilter(e){this.reportLexeme=e}mapFeature(e,t,r,o,a){let s=t[r];if(s&&(Array.isArray(s)||s.$)){let t=[];if(Array.isArray(s))for(let e of s)t.push(...this.parseProperty(r,e.$));else t=this.parseProperty(r,s.$);if(t.length>0){t=t.map(e=>({providerValue:e,sortOrder:s.order?s.order:1}));let r=this[n.Feature.types[o]].getMultiple(t,a);e.addFeature(r)}}}overrideInflectionFeatureIfRequired(e,t,r){if(this.inflectionOverrides.includes(e))for(let n of r.filter(t=>t.features[e]))t.addFeature(n.features[e])}};let c=new l(n.LatinLanguageModel,"whitakerLat");c.inflectionOverrides=[n.Feature.types.conjugation],c.addFeature(n.Feature.types.gender).importer.map("common",[[n.Constants.GEND_MASCULINE,1],[n.Constants.GEND_FEMININE,2]]).map("all",[[n.Constants.GEND_MASCULINE,1],[n.Constants.GEND_FEMININE,2],[n.Constants.GEND_NEUTER,3]]),c.addFeature(n.Feature.types.tense).importer.map("future_perfect",n.Constants.TENSE_FUTURE_PERFECT),c.setPropertyParser(function(e,t){let r=[];return r="decl"===e?t.split("&").map(e=>e.trim()):"comp"===e&&"positive"===t?[]:"conj"===e&&t.match(/5th|6th|7th|8th/)?[n.Constants.TYPE_IRREGULAR]:[t]}),c.setLexemeAggregator(function(e,t){let r=[];for(let o of e)if(this.reportLexeme(o))if(0===o.meaning.shortDefs.length&&e.length>1){for(let a of e)if(a.meaning.shortDefs.length>0&&a.lemma.isFullHomonym(o.lemma)){let e=!0;for(let t of Object.entries(o.lemma.features))if(t[0]!==n.Feature.types.frequency&&t[0]!==n.Feature.types.source&&t[0]!==n.Feature.types.age&&!t[1].isEqual(a.lemma.features[t[0]])){e=!1;break}e?o.lemma.features[n.Feature.types.frequency].compareTo(a.lemma.features[n.Feature.types.frequency])<1?(a.addAltLemma(a.lemma),a.lemma=o.lemma):a.addAltLemma(o.lemma):(o.inflections=t,r.push(o))}}else o.inflections=t,r.push(o);return r}),c.setLemmaParser(function(e){let t,r,o=[],a=e.split(", ");for(let[e,t]of a.entries()){let n=t.split(" ")[0];0===e&&(r=n),o.push(n)}return r&&(t=new n.Lemma(r,this.model.languageCode,o)),t});var f=c;let p=new l(n.GreekLanguageModel,"morpheusgrc");p.addFeature(n.Feature.types.gender).importer.map("masculine feminine",[[n.Constants.GEND_MASCULINE,1],[n.Constants.GEND_FEMININE,2]]),p.addFeature(n.Feature.types.declension).importer.map("1st & 2nd",[[n.Constants.ORD_1ST,1],[n.Constants.ORD_2ND,2]]);var d=p;var h=new l(n.ArabicLanguageModel,"aramorph");let g=new l(n.PersianLanguageModel,"hazm");g.setLexemeFilter(function(e){return Boolean(e.lemma.word)});var m=g;var y=new l(n.GeezLanguageModel,"traces");var w=class{constructor(e){this.engine=e}getEngineByCode(e){if(console.info("*************************this.engine[languageID]",this.engine[e]),this.engine[e]){let t=this.engine[e][0];return new Map([f,d,h,m,y].map(e=>[e.engine,e])).get(t)}}getEngineByCodeFromLangCode(e){let t=n.LanguageModelFactory.getLanguageIdFromCode(e);return this.getEngineByCode(t)}};var v=class{constructor(e,t){Object.keys(e).forEach(t=>{this[t]=e[t]}),Object.keys(t).forEach(e=>{void 0===this[e]&&(this[e]=t[e])})}};var x=class extends v{uploadEngines(e){void 0===this.engine&&(this.engine={}),Object.keys(e).forEach(t=>{let r=n.LanguageModelFactory.getLanguageIdFromCode(t);r!==n.Constants.LANG_UNDEFINED&&void 0===this.engine[r]&&(this.engine[r]=e[t])})}get featuresArray(){return[["pofs","part"],["case","grmCase"],["gend","gender"],["decl","declension"],["conj","conjugation"],["area","area"],["age","age"],["geo","geo"],["freq","frequency"],["note","note"],["pron","pronunciation"],["kind","kind"],["src","source"]]}get featuresArrayAll(){return[["pofs","part"],["case","grmCase"],["decl","declension"],["num","number"],["gend","gender"],["conj","conjugation"],["tense","tense"],["voice","voice"],["mood","mood"],["pers","person"],["comp","comparison"],["stemtype","stemtype"],["derivtype","derivtype"],["dial","dialect"],["morph","morph"]]}};var F=class extends s{constructor(e={}){super(),this.config=new x(e,u),console.info("******************AlpheiosTuftsAdapter this.config.engine",this.config,this.config.engine),this.config.uploadEngines(this.config.engine),this.engineSet=new w(this.config.engine)}async getHomonym(e,t){let r=this.prepareRequestUrl(e,t);console.info("***************async getHomonym1",e,t,r);let o=await this.fetch(r);if(console.info("***************async getHomonym2",o),o){let e=new i(this.engineSet,this.config);console.info("***************async getHomonym3",o.RDF.Annotation,t);let r=e.transformData(o,t);return r&&r.lexemes&&r.lexemes.sort(n.Lexeme.getSortByTwoLemmaFeatures(n.Feature.types.frequency,n.Feature.types.part)),console.info("***************async getHomonym4",r),r}}prepareRequestUrl(e,t){let r=n.LanguageModelFactory.getLanguageCodeFromId(e),o=this.engineSet.getEngineByCode(e);if(console.info("*****************prepareRequestUrl this.engineSet",this.engineSet),o){let e=o.engine;return this.config.url.replace("r_WORD",t).replace("r_ENGINE",e).replace("r_LANG",r).replace("r_CLIENT",this.config.clientId)}return null}},A=r(10),L=r(11),b=r.n(L);var E=class extends s{constructor(e={}){super(),this.config=new v(e,A),this.models={lat:n.LatinLanguageModel,grc:n.GreekLanguageModel}}async getHomonym(e,t){let r=this.prepareRequestUrl(t);if(r){let t=await this.fetch(r,"xml");if(t){let r=n.LanguageModelFactory.getLanguageCodeFromId(e);console.log(`LangCode ${r}`);let o=b.a.parseString(t);return o.words[0].word[0].entry[0].dict[0].hdwd[0]._attr={lang:{_value:r}},this.transform(o,o.words[0].word[0].form[0]._text)}}}prepareRequestUrl(e){let t,[r,n]=e.split(/#/);return this.config.texts.includes(r)&&(t=(t=this.config.url.replace("r_TEXT",r)).replace("r_WORD",n).replace("r_CLIENT",this.config.clientId)),t}transform(e,t){let r=this.config.providerUri,o=this.config.providerRights,a=new n.ResourceProvider(r,o),s=e.words[0].word[0].entry[0].dict[0].hdwd[0],i=s._text;i=i.replace(/\d+$/,"");let u=this.models[s._attr.lang._value],l=new n.Lemma(i,u.languageCode),c=new n.Lexeme(l,[]),f=new n.Inflection(i,u.languageID,null,null,null),p=e.words[0].word[0].entry[0].infl[0];f.addFeature(new n.Feature(n.Feature.types.fullForm,t,u.languageID));let d=[["pofs","part",!0],["case","grmCase",!1],["num","number",!1],["gend","gender",!1],["voice","voice",!1],["mood","mood",!1],["pers","person",!1],["comp","comparison",!1]];for(let e of d){let t=e[0],r=e[1],o=e[2];if(p[t]){let e=u.typeFeature(n.Feature.types[r]).createFeatures(p[t][0]._text,1);f.addFeature(e),o&&l.addFeature(e)}}return c.inflections=[f],new n.Homonym([n.ResourceProvider.getProxy(a,c)],t)}},C=r(12);var T=class extends v{get defaultLang(){return"eng"}defineOutLang(e){return{"en-US":"eng",it:"ita",pt:"por",ca:"cat",fr:"fre",de:"ger",es:"spa"}[e]||this.defaultLang}};var R=class extends s{constructor(e={}){super(),this.config=new T(e,C),this.mapLangUri={},this.provider=new n.ResourceProvider(this.config.url,this.config.rights)}async getTranslationsList(e,t,r){let o=this.config.defineOutLang(r),a=this.prepareInput(e),s=await this.getAvailableResLang(t,o);if(a&&s)try{let r=await this.fetch(s+"?input="+a);for(let t of e)n.Translation.loadTranslations(t,o,r,this.provider)}catch(e){console.error(`Some problems with translations from ${t} to ${o}`,e)}}prepareInput(e){let t="";for(let r of e)t+=r.word+",";return t.length>0&&(t=t.substr(0,t.length-1)),t.length>0?t:void 0}async getAvailableResLang(e,t){if(void 0===this.mapLangUri[e]){let t=this.config.url+"/"+e+"/",r=await this.fetch(t);console.info("******************getAvailableResLang unparsed",r);let n={};r.forEach(function(e){n[e.lang]=e.uri}),Object.keys(n).length>0&&(this.mapLangUri[e]=n)}return console.info("******************getAvailableResLang 1",e,t),console.info("******************getAvailableResLang 2",e,this.mapLangUri[e]),this.mapLangUri[e]?this.mapLangUri[e][t]:void 0}};var D=class{static async maAdapter(e){let t=new F;if(console.info("********************options",e),"getHomonym"===e.type){let r=await t.getHomonym(e.languageID,e.word);return console.info("*******************maAdapter homonym",r),r}return null}static async lemmaTranslations(e){let t=new R;return"fetchTranslations"===e.type?(await t.getTranslationsList(e.lemmaList,e.inLang,e.browserLang),!0):null}};r.d(t,"AlpheiosTuftsAdapter",function(){return F}),r.d(t,"AlpheiosTreebankAdapter",function(){return E}),r.d(t,"ClientAdapters",function(){return D})}])});