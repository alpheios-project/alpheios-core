!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("alpheios-data-models"),require("intl-messageformat"));else if("function"==typeof define&&define.amd)define(["alpheios-data-models","intl-messageformat"],t);else{var o="object"==typeof exports?t(require("alpheios-data-models"),require("intl-messageformat")):t(e["alpheios-data-models"],e["intl-messageformat"]);for(var s in o)("object"==typeof exports?exports:e)[s]=o[s]}}(window,function(e,t){return function(e){var t={};function o(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(s,r,function(t){return e[t]}.bind(null,r));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=17)}([function(t,o){t.exports=e},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e){e.exports={TOOLTIP_ALL_IMPORTANT:{message:"Make all important ",description:"Make all words inside language block important",component:"WordLanguagePanel"},TOOLTIP_NO_IMPORTANT:{message:"Remove all important ",description:"Remove important mark from all words inside language block",component:"WordLanguagePanel"},TOOLTIP_REMOVE_ALL:{message:"Remove all word items",description:"Remove all words inside language block",component:"WordLanguagePanel"},TOOLTIP_CHANGE_IMPORTANT:{message:"Change important status",description:"Change important status for the WordItem",component:"WordItemPanel"},TOOLTIP_REMOVE:{message:"Remove worditem",description:"Remove the WordItem form the list",component:"WordItemPanel"},TOOLTIP_TEXT_CONTEXT:{message:"Show contexts",description:"Show panle with contexts for the wordItem",component:"WordItemPanel"}}},function(e){e.exports={COOKIE_TEST_MESSAGE:{message:"This is a test message about a biscuit.",description:"A test message that is shown in a panel",component:"Panel"},NUM_LINES_TEST_MESSAGE:{message:"There {numLines, plural, =0 {are no queues} =1 {is one queue} other {are # queues}}.",description:"A test message that is shown in a panel",component:"Panel",params:["numLines"]}}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 447.6 757.4"}},[t("path",{attrs:{d:"M-128.4 305.8c74.8 53.3 146.8 110.5 215.7 171.3 0 0 348.4-399.4 557.1-477.1l27 53S277.2 418 150.5 757.4l-374.3-378.7 95.4-72.9z"}})])},toString:function(){return"C:\\_alpheios\\wordlist\\src\\icons\\check.svg"}}},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 900.5 900.5"}},[t("path",{attrs:{d:"M176.42 880.5c0 11.046 8.954 20 20 20h507.67c11.046 0 20-8.954 20-20V232.49H176.42V880.5zm386.33-537.73h75V778.8h-75V342.77zm-150 0h75V778.8h-75V342.77zm-150 0h75V778.8h-75V342.77zM618.82 91.911V20c0-11.046-8.954-20-20-20H301.67c-11.046 0-20 8.954-20 20v96.911h-139.8c-11.046 0-20 8.954-20 20v50.576c0 11.045 8.954 20 20 20h616.75c11.046 0 20-8.955 20-20v-50.576c0-11.046-8.954-20-20-20h-139.8V91.912zm-75 20.889H356.67V75.001h187.15v37.801z"}})])},toString:function(){return"C:\\_alpheios\\wordlist\\src\\icons\\delete.svg"}}},function(e,t,o){},function(e,o){e.exports=t},function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{viewBox:"0 0 442 442"}},[t("path",{attrs:{d:"M171 336H70c-5.523 0-10 4.477-10 10s4.477 10 10 10h101c5.523 0 10-4.477 10-10s-4.477-10-10-10zM322 336H221c-5.523 0-10 4.477-10 10s4.477 10 10 10h101c5.522 0 10-4.477 10-10s-4.478-10-10-10zM322 86H70c-5.523 0-10 4.477-10 10s4.477 10 10 10h252c5.522 0 10-4.477 10-10s-4.478-10-10-10zM322 136H221c-5.523 0-10 4.477-10 10s4.477 10 10 10h101c5.522 0 10-4.477 10-10s-4.478-10-10-10zM322 186H221c-5.523 0-10 4.477-10 10s4.477 10 10 10h101c5.522 0 10-4.477 10-10s-4.478-10-10-10zM322 236H221c-5.523 0-10 4.477-10 10s4.477 10 10 10h101c5.522 0 10-4.477 10-10s-4.478-10-10-10zM322 286H221c-5.523 0-10 4.477-10 10s4.477 10 10 10h101c5.522 0 10-4.477 10-10s-4.478-10-10-10zM171 286H70c-5.523 0-10 4.477-10 10s4.477 10 10 10h101c5.523 0 10-4.477 10-10s-4.477-10-10-10zM171 136H70c-5.523 0-10 4.477-10 10v101c0 5.523 4.477 10 10 10h101c5.523 0 10-4.477 10-10V146c0-5.523-4.477-10-10-10zm-10 101H80v-81h81v81z"}}),t("path",{attrs:{d:"M422 76h-30V46c0-11.028-8.972-20-20-20H20C8.972 26 0 34.972 0 46v320c0 27.57 22.43 50 50 50h342c27.57 0 50-22.43 50-50V96c0-11.028-8.972-20-20-20zm0 290c0 16.542-13.458 30-30 30H50c-16.542 0-30-13.458-30-30V46h352v305c0 13.785 11.215 25 25 25 5.522 0 10-4.477 10-10s-4.478-10-10-10c-2.757 0-5-2.243-5-5V96h30v270z"}})])},toString:function(){return"C:\\_alpheios\\wordlist\\src\\icons\\text-quote.svg"}}},function(e,t,o){var s=o(12),r=o(13);e.exports=function(e,t,o){var i=t&&o||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var n=0;n<16;++n)t[i+n]=a[n];return t||r(a)}},function(e,t){var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(o){var s=new Uint8Array(16);e.exports=function(){return o(s),s}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var o=[],s=0;s<256;++s)o[s]=(s+256).toString(16).substr(1);e.exports=function(e,t){var s=t||0,r=o;return[r[e[s++]],r[e[s++]],r[e[s++]],r[e[s++]],"-",r[e[s++]],r[e[s++]],"-",r[e[s++]],r[e[s++]],"-",r[e[s++]],r[e[s++]],"-",r[e[s++]],r[e[s++]],r[e[s++]],r[e[s++]],r[e[s++]],r[e[s++]]].join("")}},function(e,t,o){"use strict";var s=o(1);o.n(s).a},function(e,t,o){"use strict";var s=o(2);o.n(s).a},function(e,t,o){"use strict";var s=o(3);o.n(s).a},function(e,t,o){"use strict";o.r(t);var s=o(8),r=o.n(s),i=o(0);o(11);class word_item_WordItem{constructor(e){this.targetWord=e.targetWord,this.languageCode=e.languageCode,this.userID=e.userID,this.textQuoteSelectors=e.textQuoteSelector?[e.textQuoteSelector]:[],this.homonym=e.homonym?e.homonym:{},this.important=e.important||!1,this.currentSession=e.currentSession||!1}get storageID(){return this.userID+"-"+this.languageCode+"-"+this.targetWord}get listID(){return this.userID+"-"+this.languageCode}makeImportant(){this.important=!0}removeImportant(){this.important=!1}get lemmasList(){return this.homonym&&this.homonym.lexemes?this.homonym.lexemes.map(e=>e.lemma.word).filter((e,t,o)=>o.indexOf(e)===t).join(", "):""}uploadHomonym(e){let t=i.Homonym.readObject(e.homonym);this.homonym=t}uploadTextQuoteSelectors(e){for(let t of e){let e=i.TextQuoteSelector.readObject(t);this.textQuoteSelectors.push(e)}}selectWordItem(){wordlist_controller_WordlistController.evt.WORDITEM_SELECTED.pub(this.homonym)}static get currentDate(){let e=new Date;return e.getFullYear()+"/"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"/"+(e.getDate()<10?"0":"")+e.getDate()+" @ "+(e.getHours()<10?"0":"")+e.getHours()+":"+(e.getMinutes()<10?"0":"")+e.getMinutes()+":"+(e.getSeconds()<10?"0":"")+e.getSeconds()}convertCommonToStorage(){return{ID:this.storageID,listID:this.listID,userID:this.userID,languageCode:this.languageCode,targetWord:this.targetWord,important:this.important,createdDT:word_item_WordItem.currentDate}}convertTQSelectorToStorage(){let e=[],t=0;for(let o of this.textQuoteSelectors){t++;let s={ID:this.storageID+"-"+t,listID:this.listID,userID:this.userID,languageCode:this.languageCode,targetWord:this.targetWord,wordItemID:this.storageID,target:{source:o.source,selector:{type:"TextQuoteSelector",exact:o.text,prefix:o.prefix,suffix:o.suffix,contextHTML:o.contextHTML,languageCode:o.languageCode}},createdDT:word_item_WordItem.currentDate};e.push(s)}return e}convertHomonymToStorage(e=!1){let t=this.homonym.convertToJSONObject(e);return{ID:this.storageID,listID:this.listID,userID:this.userID,languageCode:this.languageCode,targetWord:this.targetWord,homonym:t}}convertShortHomonymToStorage(){return this.convertHomonymToStorage(!1)}convertFullHomonymToStorage(){return this.convertHomonymToStorage(!0)}emptyProp(e){return!this[e]||"object"==typeof this[e]&&0===Object.keys(this[e]).length}hasThisTextQuoteSelector(e){return this.textQuoteSelectors.filter(t=>t.prefix===e.prefix&&t.suffix===e.suffix&&t.source===e.source).length>0}mergeTextQuoteSelectors(e){console.info("*************mergeTextQuoteSelectors this",this.textQuoteSelectors),console.info("*************mergeTextQuoteSelectors prevWordItem",e.textQuoteSelectors);for(let t of e.textQuoteSelectors)console.info("**********************mergeTextQuoteSelectors inside",this.hasThisTextQuoteSelector(t)),this.hasThisTextQuoteSelector(t)||this.textQuoteSelectors.push(t);console.info("*************mergeTextQuoteSelectors final this",this.textQuoteSelectors)}merge(e){let t=["homonym","important","currentSession"];for(let o of t)this.emptyProp(o)&&!e.emptyProp(o)&&(this[o]=e[o]);this.mergeTextQuoteSelectors(e)}}class word_list_WordList{constructor(e,t,o){this.userID=e,this.languageCode=t,this.storageAdapter=o,this.items={}}get languageName(){switch(this.languageCode){case"lat":return"Latin";case"grc":return"Greek";case"ara":return"Arabic";case"per":return"Persian";case"gez":return"Ancient Ethiopic (Ge'ez)"}}get storageID(){return this.userID+"-"+this.languageCode}get values(){return Object.values(this.items)}async removeWordItemByID(e){this.items[e]&&(await this.removeFromStorage({indexName:"ID",value:this.items[e].storageID,type:"only"}),delete this.items[e])}async removeAllWordItems(){await this.removeFromStorage({indexName:"listID",value:this.storageID,type:"only"}),this.items={}}async removeFromStorage(e){for(let t of Object.values(this.storageMap))await this.storageAdapter.delete({objectStoreName:t.objectStoreName,condition:e})}contains(e){return this.values.map(e=>e.targetWord).includes(e.targetWord)}async makeImportantByID(e){this.items[e].makeImportant(),await this.pushWordItemPart([this.items[e]],"common")}async removeImportantByID(e){this.items[e].removeImportant(),await this.pushWordItemPart([this.items[e]],"common")}async makeAllImportant(){this.values.forEach(e=>{e.makeImportant()}),await this.pushWordItemPart(this.values,"common")}async removeAllImportant(){this.values.forEach(e=>{e.removeImportant()}),await this.pushWordItemPart(this.values,"common")}get storageMap(){return{common:{objectStoreName:"WordListsCommon",convertMethodName:"convertCommonToStorage"},textQuoteSelector:{objectStoreName:"WordListsContext",convertMethodName:"convertTQSelectorToStorage"},shortHomonym:{objectStoreName:"WordListsHomonym",convertMethodName:"convertShortHomonymToStorage"},fullHomonym:{objectStoreName:"WordListsFullHomonym",convertMethodName:"convertFullHomonymToStorage"}}}async pushWordItem(e,t){let o=new word_item_WordItem(e);this.contains(o)?o.merge(this.items[o.storageID]):await this.pushWordItemPart([o],"common"),await this.pushWordItemPart([o],t)}async pushWordItemPart(e,t){if(this.storageMap[t]){let o=[];for(let s of e){this.items[s.storageID]=s;let e=s[this.storageMap[t].convertMethodName]();Array.isArray(e)?o=o.concat(e):o.push(e)}await this.storageAdapter.set({objectStoreName:this.storageMap[t].objectStoreName,dataItems:o})}}async uploadFromDB(){console.info("**********************uploadFromDB start");let e=await this.storageAdapter.get({objectStoreName:this.storageMap.common.objectStoreName,condition:{indexName:"listID",value:this.storageID,type:"only"}});if(console.info("**********************uploadFromDB res1",e),0===e.length)return!1;for(let t of e){let e=t.ID,o=new word_item_WordItem(t),s=await this.storageAdapter.get({objectStoreName:this.storageMap.fullHomonym.objectStoreName,condition:{indexName:"ID",value:e,type:"only"}});if(s.length>0)o.uploadHomonym(s[0]);else{let t=await this.storageAdapter.get({objectStoreName:this.storageMap.shortHomonym.objectStoreName,condition:{indexName:"ID",value:e,type:"only"}});t.length>0&&o.uploadHomonym(t[0])}let r=await this.storageAdapter.get({objectStoreName:this.storageMap.textQuoteSelector.objectStoreName,condition:{indexName:"wordItemID",value:e,type:"only"}});r.length>0&&(console.info("**********************resTextQuoteSelector",r),o.uploadTextQuoteSelectors(r)),console.info("**********************wordItem final",o),this.items[o.storageID]=o}return!0}}class StorageAdapter{constructor(e="alpheios-storage-domain"){this.domain=e}set(e){console.info("*****************set value to storage")}get(e){console.info("*****************get value from storage")}remove(e){return new Promise((e,t)=>t(new Error("Remove method should be implemented in a subclass")))}}class IndexedDBStructure{get dbName(){return"AlpheiosWordLists"}get dbVersion(){return 2}get objectStores(){return{WordListsCommon:this.wordListsCommon,WordListsContext:this.wordListsContext,WordListsHomonym:this.wordListsHomonym,WordListsFullHomonym:this.wordListsFullHomonym}}get objectStoreTemplate(){return{keyPath:"ID",indexes:[{indexName:"ID",keyPath:"ID",unique:!0},{indexName:"listID",keyPath:"listID",unique:!1},{indexName:"userID",keyPath:"userID",unique:!1},{indexName:"languageCode",keyPath:"languageCode",unique:!1},{indexName:"targetWord",keyPath:"targetWord",unique:!1}]}}get wordListsCommon(){return this.objectStoreTemplate}get wordListsContext(){let e=this.objectStoreTemplate;return e.indexes.push({indexName:"wordItemID",keyPath:"wordItemID",unique:!1}),e}get wordListsHomonym(){return this.objectStoreTemplate}get wordListsFullHomonym(){return this.objectStoreTemplate}createObjectStores(e,t){Object.keys(this.objectStores).forEach(o=>{const s=this.objectStores[o];let r;console.info("*************objectStoreStructure 1",o,s),console.info("*************objectStoreStructure 2",e.objectStoreNames),r=e.objectStoreNames.contains(o)?t.objectStore(o):e.createObjectStore(o,{keyPath:s.keyPath}),s.indexes.forEach(e=>{r.indexNames.contains(e.indexName)||r.createIndex(e.indexName,e.keyPath,{unique:e.unique})})})}}class indexed_db_adapter_IndexedDBAdapter extends StorageAdapter{constructor(e="alpheios-storage-domain"){super(e),this.available=this.initIndexedDBNamespaces(),this.dbData=new IndexedDBStructure}initIndexedDBNamespaces(){return this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction||{READ_WRITE:"readwrite"},this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange,!!this.indexedDB||(console.info("Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available."),!1)}openDatabase(e,t){let o=this.indexedDB.open(this.dbName,this.currentVersion);return console.info("***************inside openDatabase"),o.onerror=(e=>{console.info("*************Some problems with opening LabirintOrders",e.target)}),o.onsuccess=t,o.onupgradeneeded=e,o}openDatabaseRequest(){let e=this.indexedDB.open(this.dbData.dbName,this.dbData.dbVersion);return e.onupgradeneeded=(e=>{const t=e.target.result,o=e.target.transaction;this.dbData.createObjectStores(t,o)}),e}async set(e){return await new Promise((t,o)=>{let s=this.openDatabaseRequest();s.onsuccess=(async o=>{const s=o.target.result;await this.putItem(s,e),t()}),s.onerror=(e=>{o()})})}async putItem(e,t){return await new Promise((o,s)=>{const r=e.transaction([t.objectStoreName],"readwrite");r.onerror=(e=>{s()});const i=r.objectStore(t.objectStoreName);let a=t.dataItems.length;for(let e of t.dataItems){const t=i.put(e);t.onsuccess=(()=>{0===(a-=1)&&o()}),t.onerror=(()=>{s()})}})}async get(e){return await new Promise((t,o)=>{let s=this.openDatabaseRequest();s.onsuccess=(s=>{const r=s.target.result.transaction([e.objectStoreName]).objectStore(e.objectStoreName).index(e.condition.indexName),i=this.IDBKeyRange[e.condition.type](e.condition.value),a=r.getAll(i,0);a.onsuccess=(e=>{t(e.target.result)}),a.onerror=(e=>{o()})}),s.onerror=(e=>{o()})})}async delete(e){return await new Promise((t,o)=>{let s=this.openDatabaseRequest();s.onsuccess=(s=>{const r=s.target.result.transaction([e.objectStoreName],"readwrite").objectStore(e.objectStoreName).index(e.condition.indexName),i=this.IDBKeyRange[e.condition.type](e.condition.value);r.openCursor(i).onsuccess=(e=>{const s=e.target.result;if(s){s.delete().onerror=(e=>{o()}),s.continue()}else t()})}),s.onerror=(e=>{o()})})}}class wordlist_controller_WordlistController{constructor(e){this.userID=e,this.wordLists={},this.storageAdapter=new indexed_db_adapter_IndexedDBAdapter}get availableLangs(){return["lat","grc","ara","per","gez"]}async initLists(){this.storageAdapter.available&&await this.uploadListsFromDB()}async uploadListsFromDB(){console.info("*********************uploadListsFromDB start"),this.availableLangs.forEach(async e=>{this.createWordList(e),console.info("*********************uploadListsFromDB before");let t=await this.wordLists[e].uploadFromDB();console.info("*********************uploadListsFromDB result",t),t||this.removeWordList(e),wordlist_controller_WordlistController.evt.WORDLIST_UPDATED.pub(this.wordLists)})}createWordList(e){let t=new word_list_WordList(this.userID,e,this.storageAdapter);this.wordLists[e]=t}removeWordList(e){delete this.wordLists[e]}wordListExist(e){return Object.keys(this.wordLists).includes(e)}async addToWordList(e){let t=e.textQuoteSelector?e.textQuoteSelector.languageCode:e.homonym.language,o=e.textQuoteSelector?e.textQuoteSelector.normalizedText:e.homonym.targetWord;this.wordListExist(t)||this.createWordList(t);let s=this.wordLists[t];await s.pushWordItem({languageCode:t,targetWord:o,homonym:e.homonym,textQuoteSelector:e.textQuoteSelector,userID:this.userID,currentSession:!0,important:!1},e.type),wordlist_controller_WordlistController.evt.WORDLIST_UPDATED.pub(this.wordLists)}async onHomonymReady(e){console.info("********************onHomonymReady1",e),await this.addToWordList({homonym:e.homonym,type:"shortHomonym"})}async onDefinitionsReady(e){console.info("********************onDefinitionsReady",e),await this.addToWordList({homonym:e.homonym,type:"fullHomonym"})}async onLemmaTranslationsReady(e){console.info("********************onLemmaTranslationsReady",e),await this.addToWordList({homonym:e,type:"fullHomonym"})}async onTextQuoteSelectorRecieved(e){console.info("********************onTextQuoteSelectorRecieved",e),await this.addToWordList({textQuoteSelector:e,type:"textQuoteSelector"})}}wordlist_controller_WordlistController.evt={WORDLIST_UPDATED:new i.PsEvent("Wordlist updated",wordlist_controller_WordlistController),WORDITEM_SELECTED:new i.PsEvent("WordItem selected",wordlist_controller_WordlistController)};var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"alpheios-wordlist"},e._l(e.languagesList,function(t,s){return o("div",{key:s,staticClass:"alpheios-wordlist-language"},[o("word-language-panel",{attrs:{wordlist:e.wordLists[t],messages:e.l10n.messages,updated:e.updated}})],1)}),0)};a._withStripped=!0;var n=o(9),l=o.n(n);class message_Message{constructor(e,t){if(!t)throw new Error("Locale data is missing");if(!e)throw new Error("Message data is missing");this.locale=t;for(const t of Object.keys(e))this[t]=e[t];this.formatFunc=new l.a(e.message,this.locale)}get hasParameters(){return!!(this.params&&Array.isArray(this.params)&&this.params.length>0)}defineProperties(e,t){let o=this;this.hasParameters?e[t]={format:e=>o.formatFunc.format(e),get(...e){let t={};for(let[s,r]of o.params.entries())t[r]=e[s];return o.formatFunc.format(t)}}:Object.defineProperty(e,t,{get:()=>o.formatFunc.format(),enumerable:!0,configurable:!0})}}class message_bundle_MessageBundle{constructor(e,t){if(!t)throw new Error("Locale data is missing");if(!e)throw new Error("Message data is missing");this._locale=t,this.messages={};let o="string"==typeof e?JSON.parse(e):e;this.append(o)}appendFromJSON(e){let t=JSON.parse(e);this.append(t)}append(e){for(const[t,o]of Object.entries(e))if(this.hasOwnProperty(t))console.warn(`A key name "${t}" is reserved or already used. A message will be ignored"`);else{let e=new message_Message(o,this._locale);this[t]=e,e.defineProperties(this.messages,t)}}get(e,t){return this[e]?"function"==typeof this[e].format?this[e].format(t):this[e]:`Not in translation data: "${e}"`}get locale(){return this._locale}}class l10n_L10n{constructor(){return this.selectedLocale=void 0,this.bundles=new Map,this}addMessages(e,t){let o;return this.bundles.has(t)?(o=this.bundles.get(t)).appendFromJSON(e):(o=new message_bundle_MessageBundle(e,t),this.addMessageBundle(o)),this}addMessageBundle(e){return this.bundles.set(e.locale,e),this.selectedLocale||this.setLocale(e.locale),this}get locales(){return Array.from(this.bundles.keys())}get bundle(){return this.bundles.get(this.selectedLocale)}get messages(){return this.bundles.has(this.selectedLocale)?this.bundles.get(this.selectedLocale).messages:{}}setLocale(e){return this.bundles.has(e)?this.selectedLocale=e:console.error(`Cannot set locale to "${e}" because there is no message bundle for it`),this}}var c=o(4),d=o(5),m="en-US",u="en-GB",h=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"alpheios-wordlist-commands"},[o("div",{staticClass:"alpheios-wordlist-language__title"},[e._v(e._s(e.languageName))]),e._v(" "),o("alph-tooltip",{attrs:{tooltipDirection:"top-left",tooltipText:e.messages.TOOLTIP_ALL_IMPORTANT}},[o("div",{staticClass:"alpheios-wordlist-commands__item alpheios-wordlist-commands__item-all-important",on:{click:function(t){e.makeAllImportant()}}},[o("check-icon")],1)]),e._v(" "),o("alph-tooltip",{attrs:{tooltipDirection:"top-left",tooltipText:e.messages.TOOLTIP_NO_IMPORTANT}},[o("div",{staticClass:"alpheios-wordlist-commands__item alpheios-wordlist-commands__item-no-important",on:{click:function(t){e.removeAllImportant()}}},[o("check-icon")],1)]),e._v(" "),o("alph-tooltip",{attrs:{tooltipDirection:"top-left",tooltipText:e.messages.TOOLTIP_REMOVE_ALL}},[o("div",{staticClass:"alpheios-wordlist-commands__item alpheios-wordlist-commands__item-remove-all",on:{click:function(t){e.deleteAll()}}},[o("delete-icon")],1)])],1),e._v(" "),e._l(e.wordItems,function(t){return o("div",{key:t.storageID},[o("word-item-panel",{attrs:{worditem:t,messages:e.messages},on:{changeImportant:e.changeImportant,deleteItem:e.deleteItem}})],1)})],2)};h._withStripped=!0;var p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"alpheios-tooltip",style:e.additionalStyles},[e._t("default"),e._v(" "),e.tooltipText?o("span",{staticClass:"alpheios-tooltip__text",class:e.finalTooltipDirection},[e._v("\n    "+e._s(e.tooltipText)+"\n  ")]):e._e()],2)};function g(e,t,o,s,r,i,a,n){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=o,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=n?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var m=c.beforeCreate;c.beforeCreate=m?[].concat(m,l):[l]}return{exports:e,options:c}}p._withStripped=!0;var f=g({name:"TooltipWrap",data:()=>({allowedTooltipClasses:["alpheios-tooltip__top","alpheios-tooltip__top-right","alpheios-tooltip__top-left","alpheios-tooltip__bottom","alpheios-tooltip__bottom-right","alpheios-tooltip__bottom-wide","alpheios-tooltip__bottom-narrow","alpheios-tooltip__bottom-narrow2","alpheios-tooltip__left","alpheios-tooltip__right"],defaultTooltipClass:"alpheios-tooltip__bottom"}),props:{tooltipText:{type:String,required:!0},tooltipDirection:{type:String,required:!1},additionalStyles:{type:Object,required:!1}},computed:{tooltipDirectionLC:function(){return this.tooltipDirection?this.tooltipDirection.toLowerCase():""},tooltipDirectionClass:function(){return"alpheios-tooltip__"+this.tooltipDirectionLC},finalTooltipDirection:function(){return this.allowedTooltipClasses.indexOf(this.tooltipDirectionClass)>-1?this.tooltipDirectionClass:this.defaultTooltipClass}}},p,[],!1,null,null,null);f.options.__file="vue-components/common-components/tooltip-wrap.vue";var w=f.exports,_=o(6),y=o.n(_),I=o(7),v=o.n(I),S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"alpheios-wordlist-language__worditem",class:e.itemClasses},[o("alph-tooltip",{attrs:{tooltipDirection:"top-left",tooltipText:e.messages.TOOLTIP_CHANGE_IMPORTANT}},[o("div",{staticClass:"alpheios-worditem__data alpheios-worditem__icon",on:{click:function(t){e.changeImportant()}}},[o("check-icon")],1)]),e._v(" "),o("alph-tooltip",{attrs:{tooltipDirection:"top-left",tooltipText:e.messages.TOOLTIP_REMOVE}},[o("div",{staticClass:"alpheios-worditem__data alpheios-worditem__icon alpheios-worditem__delete_icon",on:{click:function(t){e.deleteItem()}}},[o("delete-icon")],1)]),e._v(" "),o("alph-tooltip",{attrs:{tooltipDirection:"top-left",tooltipText:e.messages.TOOLTIP_TEXT_CONTEXT}},[o("div",{staticClass:"alpheios-worditem__data alpheios-worditem__icon alpheios-worditem__delete_icon",on:{click:function(t){e.showContexts()}}},[o("text-quote-icon")],1)]),e._v(" "),o("div",{staticClass:"alpheios-worditem__data alpheios-worditem__targetWord",on:{click:function(t){e.selectWordItem()}}},[e._v(e._s(e.worditem.targetWord))]),e._v(" "),o("div",{staticClass:"alpheios-worditem__data alpheios-worditem__lemmasList"},[e._v(e._s(e.worditem.lemmasList))])],1)};S._withStripped=!0;var b=o(10),x=o.n(b),D={name:"WordItemPanel",components:{checkIcon:y.a,deleteIcon:v.a,textQuoteIcon:x.a,alphTooltip:w},props:{worditem:{type:Object,required:!0},messages:{type:Object,required:!0}},data:()=>({important:!1}),mounted(){this.important=this.worditem.important,this.$parent.$on("eventChangeImportant",this.eventChangeImportant)},computed:{itemClasses(){return{"alpheios-wordlist-language__worditem__active":this.important,"alpheios-wordlist-language__worditem__current_session":this.worditem.currentSession}}},methods:{changeImportant(){this.$emit("changeImportant",this.worditem.storageID,this.worditem.important),this.important=this.worditem.important},eventChangeImportant(){this.important=this.worditem.important},selectWordItem(){this.worditem.selectWordItem()},deleteItem(){this.$emit("deleteItem",this.worditem.storageID)}}},T=(o(14),g(D,S,[],!1,null,null,null));T.options.__file="vue-components/word-item-panel.vue";var L=T.exports,C={name:"WordListPanel",components:{checkIcon:y.a,deleteIcon:v.a,wordItemPanel:L,alphTooltip:w},props:{wordlist:{type:Object,required:!0},messages:{type:Object,required:!0},updated:{type:Number,required:!0}},data:()=>({reloadList:1}),computed:{wordItems(){return this.updated&&this.reloadList?this.wordlist.values:[]},languageName(){return this.wordlist.languageName}},methods:{async makeAllImportant(){await this.wordlist.makeAllImportant(),this.$emit("eventChangeImportant")},async removeAllImportant(){await this.wordlist.removeAllImportant(),this.$emit("eventChangeImportant")},async changeImportant(e,t){t?await this.wordlist.removeImportantByID(e):await this.wordlist.makeImportantByID(e)},async deleteItem(e){await this.wordlist.removeWordItemByID(e),this.reloadList=this.reloadList+1},async deleteAll(){await this.wordlist.removeAllWordItems(),this.reloadList=this.reloadList+1}}},W=(o(15),g(C,h,[],!1,null,null,null));W.options.__file="vue-components/word-language-panel.vue";var O={name:"WordListPanel",components:{wordLanguagePanel:W.exports},props:{wordlistC:{type:Object,required:!0},updated:{type:Number,required:!0}},computed:{languagesList(){return this.updated&&Object.keys(this.wordLists).length>0?Object.keys(this.wordLists):[]},l10n:()=>(new l10n_L10n).addMessages(c,m).addMessages(d,u).setLocale(m),wordLists(){return this.updated?this.wordlistC.wordLists:[]}},methods:{}},N=(o(16),g(O,a,[],!1,null,null,null));N.options.__file="vue-components/word-list-panel.vue";var j=N.exports;o.d(t,"Style",function(){return r.a}),o.d(t,"WordlistController",function(){return wordlist_controller_WordlistController}),o.d(t,"WordListPanel",function(){return j})}])});